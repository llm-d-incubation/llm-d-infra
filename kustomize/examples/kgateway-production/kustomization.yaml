apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# Production Kgateway deployment
# Use this for: Production with Envoy Gateway (Kgateway)

resources:
  - ../../overlays/kgateway

# Production namespace
namespace: llm-d-prod

# Production name prefix
namePrefix: prod-

# Production labels
commonLabels:
  environment: production
  # team: ml-platform

patches:
  # Increase resource limits for production
  - patch: |-
      - op: replace
        path: /spec/kube/envoyContainer/resources
        value:
          limits:
            cpu: "4"
            memory: 2Gi
          requests:
            cpu: 500m
            memory: 512Mi
    target:
      kind: GatewayParameters
      name: llm-d-gateway